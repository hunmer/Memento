{
  "getCheckinItems": {
    "title": "获取签到项目列表",
    "description": "获取所有签到项目及其状态信息",
    "parameters": [],
    "returns": {
      "type": "Array",
      "description": "签到项目列表,每个项目包含 id、name、group、description、icon、color、frequency、consecutiveDays、isCheckedToday、lastCheckinDate 等字段"
    },
    "examples": [
      {
        "title": "获取所有签到项目",
        "code": "const items = await Memento.plugins.checkin.getCheckinItems({});\nsetResult(`共有 ${items.length} 个签到项目,今天已完成 ${items.filter(i => i.isCheckedToday).length} 个`);"
      }
    ],
    "notes": "返回的项目包含完整的状态信息,包括连续天数和今日签到状态",
    "enabled": true
  },
  "checkin": {
    "title": "执行签到",
    "description": "为指定的签到项目执行签到操作",
    "parameters": [
      {"name": "itemId", "type": "string", "required": true, "description": "签到项目ID"},
      {"name": "note", "type": "string", "required": false, "description": "签到备注(可选)"}
    ],
    "returns": {
      "type": "Object",
      "description": "签到结果对象,包含 success、message、consecutiveDays、checkinTime 或 error 字段"
    },
    "examples": [
      {
        "title": "简单签到",
        "code": "const result = await Memento.plugins.checkin.checkin({itemId: 'item-id-123'});\nsetResult(result.success ? result.message : result.error);"
      },
      {
        "title": "带备注签到",
        "code": "const result = await Memento.plugins.checkin.checkin({\n  itemId: 'item-id-123',\n  note: '今天起床很顺利'\n});\nif (result.success) {\n  setResult(`签到成功!连续签到 ${result.consecutiveDays} 天`);\n} else {\n  setResult(result.message || result.error);\n}"
      }
    ],
    "notes": "如果今天已经签到过,会返回失败信息;签到成功后会更新连续签到天数",
    "enabled": true
  },
  "getCheckinHistory": {
    "title": "获取签到历史",
    "description": "获取指定签到项目在指定日期范围内的历史记录",
    "parameters": [
      {"name": "itemId", "type": "string", "required": true, "description": "签到项目ID"},
      {"name": "startDate", "type": "string", "required": false, "description": "开始日期(格式:YYYY-MM-DD)"},
      {"name": "endDate", "type": "string", "required": false, "description": "结束日期(格式:YYYY-MM-DD)"}
    ],
    "returns": {
      "type": "Object",
      "description": "包含 itemId、itemName、history(记录列表)、totalCount 或 error 字段"
    },
    "examples": [
      {
        "title": "获取本月签到历史",
        "code": "const timeInfo = await Memento.system.getCurrentTime();\nconst year = timeInfo.year;\nconst month = String(timeInfo.month).padStart(2, '0');\nconst lastDay = new Date(year, timeInfo.month, 0).getDate();\nconst startDate = `${year}-${month}-01`;\nconst endDate = `${year}-${month}-${String(lastDay).padStart(2, '0')}`;\nconst result = await Memento.plugins.checkin.getCheckinHistory({\n  itemId: 'item-id-123',\n  startDate: startDate,\n  endDate: endDate\n});\nsetResult(`本月共签到 ${result.totalCount} 次`);"
      },
      {
        "title": "获取今日签到历史",
        "code": "const timeInfo = await Memento.system.getCurrentTime();\nconst today = `${timeInfo.year}-${String(timeInfo.month).padStart(2, '0')}-${String(timeInfo.day).padStart(2, '0')}`;\nconst result = await Memento.plugins.checkin.getCheckinHistory({\n  itemId: 'item-id-123',\n  startDate: today,\n  endDate: today\n});\nsetResult(JSON.stringify(result.history, null, 2));"
      }
    ],
    "notes": "必需参数: itemId;如果不提供日期参数,返回所有历史记录;记录按签到时间倒序排序",
    "enabled": true
  },
  "getStats": {
    "title": "获取签到统计",
    "description": "获取签到的统计信息,可以是全局统计或单个项目统计",
    "parameters": [
      {"name": "itemId", "type": "string", "required": false, "description": "签到项目ID(可选,不提供则返回全局统计)"}
    ],
    "returns": {
      "type": "Object",
      "description": "统计对象,全局统计包含 totalItems、todayCheckins、totalCheckins、completionRate;单项统计包含 itemId、itemName、totalCheckins、consecutiveDays、isCheckedToday、lastCheckinDate"
    },
    "examples": [
      {
        "title": "获取全局统计",
        "code": "const stats = await Memento.plugins.checkin.getStats({});\nsetResult(`今日签到: ${stats.todayCheckins}/${stats.totalItems},总签到: ${stats.totalCheckins}`);"
      },
      {
        "title": "获取单个项目统计",
        "code": "const stats = await Memento.plugins.checkin.getStats({itemId: 'item-id-123'});\nsetResult(`${stats.itemName}:总签到 ${stats.totalCheckins} 次,连续 ${stats.consecutiveDays} 天`);"
      }
    ],
    "notes": "不提供 itemId 参数时返回全局统计;提供 itemId 时返回该项目的详细统计",
    "enabled": true
  },
  "createCheckinItem": {
    "title": "创建签到项目",
    "description": "创建一个新的签到项目",
    "parameters": [
      {"name": "name", "type": "string", "required": true, "description": "项目名称"},
      {"name": "id", "type": "string", "required": false, "description": "项目ID(可选,不提供则自动生成)"},
      {"name": "group", "type": "string", "required": false, "description": "分组名称(可选)"},
      {"name": "description", "type": "string", "required": false, "description": "项目描述(可选)"}
    ],
    "returns": {
      "type": "Object",
      "description": "创建结果对象,包含 success、message、item(新项目信息)或 error 字段"
    },
    "examples": [
      {
        "title": "创建简单签到项目",
        "code": "const result = await Memento.plugins.checkin.createCheckinItem({name: '早起'});\nsetResult(result.success ? result.message : result.error);"
      },
      {
        "title": "创建完整签到项目",
        "code": "const result = await Memento.plugins.checkin.createCheckinItem({\n  name: '晨跑',\n  group: '健康习惯',\n  description: '每天早上6点跑步30分钟'\n});\nsetResult(result.success ? `创建成功,项目ID: ${result.item.id}` : result.message);"
      },
      {
        "title": "使用自定义ID创建签到项目",
        "code": "const result = await Memento.plugins.checkin.createCheckinItem({\n  id: 'item-id-123',\n  name: '学习编程',\n  group: '技能提升',\n  description: '每天学习1小时编程'\n});\nsetResult(result.success ? `创建成功,自定义ID: ${result.item.id}` : result.message);"
      }
    ],
    "notes": "必需参数: name(项目名称);可选参数: id(自定义ID)、group(分组)、description(描述);项目名称和ID都不能与现有项目重复;如果不提供id会自动生成时间戳ID;创建后会自动保存到存储",
    "enabled": true
  }
}
