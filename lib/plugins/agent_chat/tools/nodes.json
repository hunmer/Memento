{
  "getNotebooks": {
    "title": "获取所有笔记本",
    "description": "获取所有笔记本的列表",
    "parameters": [],
    "returns": {
      "type": "Array",
      "description": "笔记本列表，每个元素包含 id、title等字段"
    },
    "examples": [
      {
        "title": "获取所有笔记本",
        "code": "const notebooks = await Memento.plugins.nodes.getNotebooks();\nsetResult(JSON.stringify(notebooks, null, 2));"
      }
    ],
    "notes": "返回所有笔记本，不包含其中的节点数据",
    "enabled": true
  },
  "getNotebook": {
    "title": "获取单个笔记本",
    "description": "根据ID获取指定笔记本的详细信息",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "笔记本对象（包含节点数据）"
    },
    "examples": [
      {
        "title": "获取笔记本详情",
        "code": "const notebook = await Memento.plugins.nodes.getNotebook({notebookId: 'nb123'});\nsetResult(JSON.stringify(notebook, null, 2));"
      }
    ],
    "notes": "如笔记本不存在则返回错误对象",
    "enabled": true
  },
  "createNotebook": {
    "title": "创建笔记本",
    "description": "创建一个新的笔记本",
    "parameters": [
      {"name": "title", "type": "string", "required": true, "description": "笔记本名称"},
      {"name": "id", "type": "string", "required": false, "description": "笔记本ID（可选，用于调试时指定固定ID，如'nb123'）"},
      {"name": "iconCodePoint", "type": "number", "required": false, "description": "图标代码"},
      {"name": "colorValue", "type": "number", "required": false, "description": "颜色值"}
    ],
    "returns": {
      "type": "Object",
      "description": "新创建的笔记本对象"
    },
    "examples": [
      {
        "title": "创建笔记本",
        "code": "const nb = await Memento.plugins.nodes.createNotebook({title: '工作笔记'});\nsetResult(`笔记本已创建: ${nb.title}`);"
      },
      {
        "title": "创建笔记本（指定ID）",
        "code": "const nb = await Memento.plugins.nodes.createNotebook({id: 'nb123', title: '测试笔记本'});\nsetResult(`笔记本已创建，ID: ${nb.id}`);"
      }
    ],
    "notes": "新创建的笔记本初始为空，不包含任何节点。可通过 id 参数指定自定义ID，方便调试",
    "enabled": true
  },
  "updateNotebook": {
    "title": "更新笔记本",
    "description": "更新笔记本的名称或图标",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "updates", "type": "object", "required": true, "description": "更新数据对象"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "更新笔记本名称",
        "code": "const result = await Memento.plugins.nodes.updateNotebook({\n  notebookId: 'nb123',\n  updates: {title: '项目笔记'}\n});\nsetResult(result.success ? '更新成功' : '更新失败');"
      }
    ],
    "notes": "仅更新 updates 对象中提供的字段，未提供的字段保持不变",
    "enabled": true
  },
  "deleteNotebook": {
    "title": "删除笔记本",
    "description": "删除指定的笔记本（包括所有节点）",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "删除笔记本",
        "code": "const result = await Memento.plugins.nodes.deleteNotebook({notebookId: 'nb123'});\nsetResult(result.success ? '删除成功' : '删除失败');"
      }
    ],
    "notes": "删除操作不可逆，会同时删除该笔记本下的所有节点（包括树形结构）",
    "enabled": true
  },
  "getNodes": {
    "title": "获取节点列表",
    "description": "获取指定笔记本中的节点（可指定父节点）",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "parentId", "type": "string", "required": false, "description": "父节点ID（可选，不提供则返回根节点）"}
    ],
    "returns": {
      "type": "Array",
      "description": "节点列表，每个元素包含 id、title等字段"
    },
    "examples": [
      {
        "title": "获取根节点",
        "code": "const nodes = await Memento.plugins.nodes.getNodes({notebookId: 'nb123'});\nsetResult(`共有 ${nodes.length} 个根节点`);"
      },
      {
        "title": "获取子节点",
        "code": "const nodes = await Memento.plugins.nodes.getNodes({notebookId: 'nb123', parentId: 'node456'});\nsetResult(`共有 ${nodes.length} 个子节点`);"
      }
    ],
    "notes": "返回扁平列表，如需树形结构请使用 getNodeTree",
    "enabled": true
  },
  "getNode": {
    "title": "获取单个节点",
    "description": "根据ID获取指定节点的详细信息",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "nodeId", "type": "string", "required": true, "description": "节点ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "节点对象（包含完整内容和子节点）"
    },
    "examples": [
      {
        "title": "获取节点详情",
        "code": "const node = await Memento.plugins.nodes.getNode({notebookId: 'nb123', nodeId: 'node456'});\nsetResult(JSON.stringify(node, null, 2));"
      }
    ],
    "notes": "如节点不存在则返回错误对象",
    "enabled": true
  },
  "createNode": {
    "title": "创建节点",
    "description": "在指定笔记本中创建新节点",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "nodeData", "type": "object", "required": true, "description": "节点数据对象，可包含以下字段: id (可选，自定义节点ID如'node456'), title, notes, parentId, status, tags, customFields 等"}
    ],
    "returns": {
      "type": "Object",
      "description": "新创建的节点对象"
    },
    "examples": [
      {
        "title": "创建根节点",
        "code": "const node = await Memento.plugins.nodes.createNode({\n  notebookId: 'nb123',\n  nodeData: {title: '第一章', notes: '这是第一章内容'}\n});\nsetResult(`节点已创建: ${node.title}`);"
      },
      {
        "title": "创建子节点",
        "code": "const child = await Memento.plugins.nodes.createNode({\n  notebookId: 'nb123',\n  nodeData: {title: '1.1 小节', parentId: 'parentNodeId', status: 'todo'}\n});\nsetResult(`子节点ID: ${child.id}`);"
      },
      {
        "title": "创建节点（指定ID）",
        "code": "const node = await Memento.plugins.nodes.createNode({\n  notebookId: 'nb123',\n  nodeData: {id: 'node456', title: '测试节点', notes: '用于调试的固定ID节点'}\n});\nsetResult(`节点已创建，ID: ${node.id}`);"
      }
    ],
    "notes": "支持无限层级嵌套，通过 parentId 构建树形结构。可在 nodeData 中指定 id 字段来使用自定义ID，方便调试",
    "enabled": true
  },
  "updateNode": {
    "title": "更新节点",
    "description": "更新节点的标题、内容或其他属性",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "nodeId", "type": "string", "required": true, "description": "节点ID"},
      {"name": "updates", "type": "object", "required": true, "description": "更新数据对象"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "更新节点内容",
        "code": "const result = await Memento.plugins.nodes.updateNode({\n  notebookId: 'nb123',\n  nodeId: 'node456',\n  updates: {title: '新标题', notes: '更新后的内容'}\n});\nsetResult(result.success ? '更新成功' : '更新失败');"
      }
    ],
    "notes": "仅更新 updates 对象中提供的字段，未提供的字段保持不变",
    "enabled": true
  },
  "deleteNode": {
    "title": "删除节点",
    "description": "删除指定的节点（包括所有子节点）",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "nodeId", "type": "string", "required": true, "description": "节点ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "删除节点",
        "code": "const result = await Memento.plugins.nodes.deleteNode({notebookId: 'nb123', nodeId: 'node456'});\nsetResult(result.success ? '删除成功' : '删除失败');"
      }
    ],
    "notes": "删除操作不可逆，会递归删除该节点的所有子节点",
    "enabled": true
  },
  "moveNode": {
    "title": "移动节点",
    "description": "将节点移动到新的父节点下",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "nodeId", "type": "string", "required": true, "description": "要移动的节点ID"},
      {"name": "newParentId", "type": "string", "required": true, "description": "新父节点ID（空字符串表示移到根级）"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "移动到其他父节点",
        "code": "const result = await Memento.plugins.nodes.moveNode({\n  notebookId: 'nb123',\n  nodeId: 'node456',\n  newParentId: 'newParent789'\n});\nsetResult(result.success ? '移动成功' : '移动失败');"
      },
      {
        "title": "移动到根级",
        "code": "const result = await Memento.plugins.nodes.moveNode({\n  notebookId: 'nb123',\n  nodeId: 'node456',\n  newParentId: ''\n});\nsetResult(result.success ? '已移到根级' : '移动失败');"
      }
    ],
    "notes": "移动节点会保留其所有子节点（整个子树一起移动）",
    "enabled": true
  },
  "getNodeTree": {
    "title": "获取节点树",
    "description": "获取指定笔记本的完整树形结构",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "包含笔记本信息和树形节点的对象"
    },
    "examples": [
      {
        "title": "获取树形结构",
        "code": "const tree = await Memento.plugins.nodes.getNodeTree({notebookId: 'nb123'});\nsetResult(JSON.stringify(tree, null, 2));"
      }
    ],
    "notes": "返回嵌套的树形结构，每个节点的 children 字段包含其子节点数组",
    "enabled": true
  },
  "getNodePath": {
    "title": "获取节点路径",
    "description": "获取从根节点到指定节点的完整路径",
    "parameters": [
      {"name": "notebookId", "type": "string", "required": true, "description": "笔记本ID"},
      {"name": "nodeId", "type": "string", "required": true, "description": "节点ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "包含 titles、ids 和 fullPath 的路径对象"
    },
    "examples": [
      {
        "title": "获取节点面包屑路径",
        "code": "const path = await Memento.plugins.nodes.getNodePath({notebookId: 'nb123', nodeId: 'node456'});\nsetResult(path.fullPath);"
      }
    ],
    "notes": "路径数组按从根到叶的顺序排列，fullPath 为完整的路径字符串（用 / 分隔）",
    "enabled": true
  }
}
