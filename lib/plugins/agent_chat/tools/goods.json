{
  "getWarehouses": {
    "title": "获取所有仓库",
    "description": "获取所有物品仓库的列表（不含物品数据）",
    "parameters": [],
    "returns": {
      "type": "Array",
      "description": "仓库列表，每个元素包含 id、title等字段"
    },
    "examples": [
      {
        "title": "获取所有仓库",
        "code": "const warehouses = await Memento.plugins.goods.getWarehouses();\nsetResult(JSON.stringify(warehouses, null, 2));"
      }
    ],
    "notes": "返回的仓库对象不包含 items 字段，如需获取物品请使用 getGoods",
    "enabled": true
  },
  "getWarehouse": {
    "title": "获取单个仓库",
    "description": "根据ID获取指定仓库的详细信息",
    "parameters": [
      {"name": "warehouseId", "type": "string", "required": true, "description": "仓库ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "仓库对象（包含物品数据）"
    },
    "examples": [
      {
        "title": "获取仓库详情",
        "code": "const warehouse = await Memento.plugins.goods.getWarehouse({warehouseId: 'warehouse123'});\nsetResult(JSON.stringify(warehouse, null, 2));"
      }
    ],
    "notes": "如仓库不存在则返回错误对象",
    "enabled": true
  },
  "createWarehouse": {
    "title": "创建仓库",
    "description": "创建一个新的物品仓库",
    "parameters": [
      {"name": "title", "type": "string", "required": true, "description": "仓库名称"},
      {"name": "id", "type": "string", "required": false, "description": "自定义仓库ID（可选，不提供则自动生成）"},
      {"name": "iconCode", "type": "number", "required": false, "description": "图标代码"},
      {"name": "colorValue", "type": "number", "required": false, "description": "颜色值"}
    ],
    "returns": {
      "type": "Object",
      "description": "新创建的仓库对象"
    },
    "examples": [
      {
        "title": "创建简单仓库",
        "code": "const wh = await Memento.plugins.goods.createWarehouse({title: '我的仓库'});\nsetResult(`仓库已创建: ${wh.title}`);"
      },
      {
        "title": "使用自定义ID创建仓库",
        "code": "const wh = await Memento.plugins.goods.createWarehouse({id: 'warehouse123', title: '我的仓库'});\nsetResult(`仓库已创建，ID: ${wh.id}`);"
      }
    ],
    "notes": "新创建的仓库初始为空，不包含任何物品;可以指定自定义ID，ID不能与现有仓库重复",
    "enabled": true
  },
  "updateWarehouse": {
    "title": "更新仓库",
    "description": "更新仓库的名称或图标",
    "parameters": [
      {"name": "warehouseId", "type": "string", "required": true, "description": "仓库ID"},
      {"name": "title", "type": "string", "required": false, "description": "新名称"},
      {"name": "iconCode", "type": "number", "required": false, "description": "新图标代码"},
      {"name": "colorValue", "type": "number", "required": false, "description": "新颜色值"}
    ],
    "returns": {
      "type": "Object",
      "description": "更新后的仓库对象"
    },
    "examples": [
      {
        "title": "更新仓库名称",
        "code": "const updated = await Memento.plugins.goods.updateWarehouse({warehouseId: 'warehouse123', title: '新名称'});\nsetResult(`仓库已更新: ${updated.title}`);"
      }
    ],
    "notes": "仅更新提供的字段，未提供的字段保持不变",
    "enabled": true
  },
  "deleteWarehouse": {
    "title": "删除仓库",
    "description": "删除指定的仓库（包括其中的所有物品）",
    "parameters": [
      {"name": "warehouseId", "type": "string", "required": true, "description": "仓库ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "删除仓库",
        "code": "const result = await Memento.plugins.goods.deleteWarehouse({warehouseId: 'warehouse123'});\nsetResult(result.success ? '删除成功' : '删除失败');"
      }
    ],
    "notes": "删除操作不可逆，会同时删除该仓库下的所有物品",
    "enabled": true
  },
  "clearWarehouse": {
    "title": "清空仓库",
    "description": "删除指定仓库中的所有物品（保留仓库本身）",
    "parameters": [
      {"name": "warehouseId", "type": "string", "required": true, "description": "仓库ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "清空仓库",
        "code": "const result = await Memento.plugins.goods.clearWarehouse({warehouseId: 'warehouse123'});\nsetResult(result.success ? '仓库已清空' : '清空失败');"
      }
    ],
    "notes": "仅删除物品数据，仓库本身及其名称描述保持不变",
    "enabled": true
  },
  "getGoods": {
    "title": "获取物品列表",
    "description": "获取指定仓库或所有仓库中的物品",
    "parameters": [
      {"name": "warehouseId", "type": "string", "required": false, "description": "仓库ID（可选，不提供则返回所有物品）"}
    ],
    "returns": {
      "type": "Array",
      "description": "物品列表，每个元素包含 id、title、customFields 等字段"
    },
    "examples": [
      {
        "title": "获取仓库中的所有物品",
        "code": "const items = await Memento.plugins.goods.getGoods({warehouseId: 'warehouse123'});\nsetResult(`共有 ${items.length} 件物品`);"
      },
      {
        "title": "获取所有物品",
        "code": "const items = await Memento.plugins.goods.getGoods({});\nsetResult(`总共有 ${items.length} 件物品`);"
      }
    ],
    "notes": "返回指定仓库或所有仓库的所有物品",
    "enabled": true
  },
  "getGoodsItem": {
    "title": "获取单个物品",
    "description": "根据ID获取指定物品的详细信息",
    "parameters": [
      {"name": "itemId", "type": "string", "required": true, "description": "物品ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "物品对象（包含所有字段和使用记录）"
    },
    "examples": [
      {
        "title": "获取物品详情",
        "code": "const item = await Memento.plugins.goods.getGoodsItem({itemId: 'goods123'});\nsetResult(JSON.stringify(item, null, 2));"
      }
    ],
    "notes": "如物品不存在则返回错误对象",
    "enabled": true
  },
  "createGoodsItem": {
    "title": "创建物品",
    "description": "在指定仓库中创建新物品",
    "parameters": [
      {"name": "warehouseId", "type": "string", "required": true, "description": "仓库ID"},
      {"name": "itemData", "type": "string", "required": true, "description": "物品数据（JSON字符串，可包含id字段）"}
    ],
    "returns": {
      "type": "Object",
      "description": "新创建的物品对象"
    },
    "examples": [
      {
        "title": "创建简单物品（整数价格）",
        "code": "const itemData = JSON.stringify({title: '笔记本电脑', purchasePrice: 8999});\nconst item = await Memento.plugins.goods.createGoodsItem({warehouseId: 'warehouse123', itemData});\nsetResult(`物品已创建: ${item.title}，价值: ¥${item.purchasePrice}`);"
      },
      {
        "title": "创建带自定义字段的物品（浮点数价格）",
        "code": "const itemData = JSON.stringify({\n  title: '笔记本',\n  purchasePrice: 15999.99,\n  customFields: [{key: '品牌', value: 'Apple'}, {key: '型号', value: 'MacBook Pro'}]\n});\nconst item = await Memento.plugins.goods.createGoodsItem({warehouseId: 'warehouse123', itemData});\nsetResult(`物品ID: ${item.id}，价值: ¥${item.purchasePrice}`);"
      },
      {
        "title": "使用自定义ID创建物品（整数价格）",
        "code": "const itemData = JSON.stringify({\n  id: 'goods123',\n  title: '机械键盘',\n  purchasePrice: 899,\n  customFields: [\n    {key: '品牌', value: 'Keychron'},\n    {key: '型号', value: 'K2'},\n    {key: '轴体', value: '红轴'}\n  ]\n});\nconst item = await Memento.plugins.goods.createGoodsItem({warehouseId: 'warehouse123', itemData});\nsetResult(`物品已创建，自定义ID: ${item.id}，价值: ¥${item.purchasePrice}`);"
      }
    ],
    "notes": "必需参数: warehouseId(仓库ID)、itemData(物品数据JSON字符串);itemData 中可包含 id 字段用于自定义ID;如果不提供id会自动生成UUID;ID不能与现有物品重复;purchasePrice 字段支持整数和浮点数类型",
    "enabled": true
  },
  "updateGoodsItem": {
    "title": "更新物品",
    "description": "更新物品的信息",
    "parameters": [
      {"name": "itemId", "type": "string", "required": true, "description": "物品ID"},
      {"name": "itemData", "type": "string", "required": true, "description": "更新的物品数据（JSON字符串）"}
    ],
    "returns": {
      "type": "Object",
      "description": "更新后的物品对象"
    },
    "examples": [
      {
        "title": "更新物品标题",
        "code": "const itemData = JSON.stringify({title: '新标题'});\nconst updated = await Memento.plugins.goods.updateGoodsItem({itemId: 'goods123', itemData});\nsetResult(`标题已更新为: ${updated.title}`);"
      }
    ],
    "notes": "仅更新 itemData 中提供的字段，未提供的字段保持不变",
    "enabled": true
  },
  "deleteGoodsItem": {
    "title": "删除物品",
    "description": "删除指定的物品（包括使用记录）",
    "parameters": [
      {"name": "itemId", "type": "string", "required": true, "description": "物品ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "操作结果对象，包含 success 字段"
    },
    "examples": [
      {
        "title": "删除物品",
        "code": "const result = await Memento.plugins.goods.deleteGoodsItem({itemId: 'goods123'});\nsetResult(result.success ? '删除成功' : '删除失败');"
      }
    ],
    "notes": "删除操作不可逆，会同时删除该物品的所有使用记录",
    "enabled": true
  },
  "addUsageRecord": {
    "title": "添加使用记录",
    "description": "为物品添加一条使用记录",
    "parameters": [
      {"name": "itemId", "type": "string", "required": true, "description": "物品ID"},
      {"name": "dateStr", "type": "string", "required": false, "description": "使用日期（ISO字符串，可选，默认当前时间）"},
      {"name": "note", "type": "string", "required": false, "description": "使用备注"}
    ],
    "returns": {
      "type": "Object",
      "description": "更新后的物品对象"
    },
    "examples": [
      {
        "title": "添加使用记录",
        "code": "const timeInfo = await Memento.system.getCurrentTime();\nconst today = `${timeInfo.year}-${String(timeInfo.month).padStart(2, '0')}-${String(timeInfo.day).padStart(2, '0')}`;\nconst item = await Memento.plugins.goods.addUsageRecord({itemId: 'goods123', dateStr: today, note: '用于编程'});\nsetResult('已记录使用');"
      }
    ],
    "notes": "使用记录用于追踪物品的使用历史和频率",
    "enabled": true
  },
  "getStatistics": {
    "title": "获取统计信息",
    "description": "获取物品的统计信息",
    "parameters": [],
    "returns": {
      "type": "Object",
      "description": "统计对象，包含总物品数、总价值、未使用物品数等信息"
    },
    "examples": [
      {
        "title": "获取统计",
        "code": "const stats = await Memento.plugins.goods.getStatistics();\nsetResult(`总物品数: ${stats.totalCount}, 总价值: ${stats.totalValue}`);"
      }
    ],
    "notes": "统计信息包括物品总数、总价值、一个月未使用的物品数等",
    "enabled": true
  },
  "findWarehouseBy": {
    "title": "通用仓库查找",
    "description": "根据自定义条件查找仓库（支持单条/多条结果）",
    "parameters": [
      {"name": "field", "type": "string", "required": true, "description": "要匹配的字段名（如：id、title）"},
      {"name": "value", "type": "any", "required": true, "description": "要匹配的值"},
      {"name": "findAll", "type": "boolean", "required": false, "description": "是否返回所有匹配项（默认 false，只返回第一个）"}
    ],
    "returns": {
      "type": "Object|Array|null",
      "description": "findAll=false 时返回单个仓库对象或 null；findAll=true 时返回仓库数组"
    },
    "examples": [
      {
        "title": "根据 ID 查找仓库",
        "code": "const wh = await Memento.plugins.goods.findWarehouseBy({field: 'id', value: 'wh123'});\nif (wh) {\n  setResult(`找到仓库: ${wh.title}`);\n} else {\n  setResult('未找到该仓库');\n}"
      },
      {
        "title": "根据标题查找仓库",
        "code": "const wh = await Memento.plugins.goods.findWarehouseBy({field: 'title', value: '客厅'});\nsetResult(wh ? `仓库ID: ${wh.id}` : '未找到');"
      }
    ],
    "notes": "简化查找逻辑，避免手动遍历仓库列表；支持任意字段匹配",
    "enabled": true
  },
  "findWarehouseById": {
    "title": "根据ID查找仓库",
    "description": "快速根据仓库ID查找单个仓库（findWarehouseBy 的便捷方法）",
    "parameters": [
      {"name": "id", "type": "string", "required": true, "description": "仓库ID"}
    ],
    "returns": {
      "type": "Object|null",
      "description": "找到的仓库对象，未找到返回 null"
    },
    "examples": [
      {
        "title": "查找指定ID的仓库",
        "code": "const wh = await Memento.plugins.goods.findWarehouseById({id: 'wh123'});\nif (wh) {\n  setResult(`仓库名: ${wh.title}`);\n} else {\n  setResult('仓库不存在');\n}"
      }
    ],
    "notes": "等价于 findWarehouseBy({field: 'id', value: id})",
    "enabled": true
  },
  "findWarehouseByName": {
    "title": "根据名称查找仓库",
    "description": "根据仓库名称查找仓库（支持精确匹配或模糊匹配）",
    "parameters": [
      {"name": "name", "type": "string", "required": true, "description": "仓库名称"},
      {"name": "fuzzy", "type": "boolean", "required": false, "description": "是否模糊匹配（默认 false，精确匹配）"},
      {"name": "findAll", "type": "boolean", "required": false, "description": "是否返回所有匹配项（默认 false）"}
    ],
    "returns": {
      "type": "Object|Array|null",
      "description": "findAll=false 时返回单个仓库或 null；findAll=true 时返回仓库数组"
    },
    "examples": [
      {
        "title": "精确匹配仓库名",
        "code": "const wh = await Memento.plugins.goods.findWarehouseByName({name: '客厅'});\nsetResult(wh ? `找到仓库ID: ${wh.id}` : '未找到');"
      },
      {
        "title": "模糊匹配仓库名",
        "code": "const warehouses = await Memento.plugins.goods.findWarehouseByName({name: '房', fuzzy: true, findAll: true});\nsetResult(`找到 ${warehouses.length} 个包含【房】的仓库`);"
      }
    ],
    "notes": "精确匹配使用 ===，模糊匹配使用 includes",
    "enabled": true
  },
  "findGoodsItemBy": {
    "title": "通用物品查找",
    "description": "根据自定义条件查找物品（支持单条/多条结果）",
    "parameters": [
      {"name": "field", "type": "string", "required": true, "description": "要匹配的字段名（如：id、title、purchasePrice）"},
      {"name": "value", "type": "any", "required": true, "description": "要匹配的值"},
      {"name": "warehouseId", "type": "string", "required": false, "description": "限定在特定仓库内查找（可选）"},
      {"name": "findAll", "type": "boolean", "required": false, "description": "是否返回所有匹配项（默认 false）"}
    ],
    "returns": {
      "type": "Object|Array|null",
      "description": "findAll=false 时返回单个物品或 null；findAll=true 时返回物品数组"
    },
    "examples": [
      {
        "title": "根据ID查找物品",
        "code": "const item = await Memento.plugins.goods.findGoodsItemBy({field: 'id', value: 'item123'});\nif (item) {\n  setResult(`物品: ${item.title}，价格: ${item.purchasePrice}`);\n} else {\n  setResult('未找到该物品');\n}"
      },
      {
        "title": "查找特定价格的物品",
        "code": "const items = await Memento.plugins.goods.findGoodsItemBy({field: 'purchasePrice', value: 8999, findAll: true});\nsetResult(`找到 ${items.length} 件价格为8999的物品`);"
      },
      {
        "title": "在指定仓库中查找物品",
        "code": "const item = await Memento.plugins.goods.findGoodsItemBy({field: 'title', value: '笔记本', warehouseId: 'wh123'});\nsetResult(item ? `找到物品，价格: ${item.purchasePrice}` : '未找到');"
      }
    ],
    "notes": "简化查找逻辑，避免手动遍历物品列表；warehouseId 可选，不传则在所有仓库中查找",
    "enabled": true
  },
  "findGoodsItemById": {
    "title": "根据ID查找物品",
    "description": "快速根据物品ID查找单个物品（findGoodsItemBy 的便捷方法）",
    "parameters": [
      {"name": "id", "type": "string", "required": true, "description": "物品ID"},
      {"name": "warehouseId", "type": "string", "required": false, "description": "限定在特定仓库内查找（可选，提高性能）"}
    ],
    "returns": {
      "type": "Object|null",
      "description": "找到的物品对象，未找到返回 null"
    },
    "examples": [
      {
        "title": "查找指定ID的物品",
        "code": "const item = await Memento.plugins.goods.findGoodsItemById({id: 'item123'});\nif (item) {\n  setResult(`物品名: ${item.title}, 价格: ${item.purchasePrice}`);\n} else {\n  setResult('物品不存在');\n}"
      }
    ],
    "notes": "等价于 findGoodsItemBy({field: 'id', value: id, warehouseId})",
    "enabled": true
  },
  "findGoodsItemByName": {
    "title": "根据名称查找物品",
    "description": "根据物品名称查找物品（支持精确匹配或模糊匹配）",
    "parameters": [
      {"name": "name", "type": "string", "required": true, "description": "物品名称"},
      {"name": "fuzzy", "type": "boolean", "required": false, "description": "是否模糊匹配（默认 false）"},
      {"name": "warehouseId", "type": "string", "required": false, "description": "限定在特定仓库内查找（可选）"},
      {"name": "findAll", "type": "boolean", "required": false, "description": "是否返回所有匹配项（默认 false）"}
    ],
    "returns": {
      "type": "Object|Array|null",
      "description": "findAll=false 时返回单个物品或 null；findAll=true 时返回物品数组"
    },
    "examples": [
      {
        "title": "精确匹配物品名",
        "code": "const item = await Memento.plugins.goods.findGoodsItemByName({name: '笔记本电脑'});\nsetResult(item ? `价格: ${item.purchasePrice}` : '未找到');"
      },
      {
        "title": "模糊匹配查找所有包含关键词的物品",
        "code": "const items = await Memento.plugins.goods.findGoodsItemByName({name: '笔记本', fuzzy: true, findAll: true});\nconst total = items.reduce((sum, i) => sum + (i.purchasePrice || 0), 0);\nsetResult(`找到 ${items.length} 件笔记本相关物品，总价值: ${total}`);"
      }
    ],
    "notes": "精确匹配使用 ===，模糊匹配使用 includes",
    "enabled": true
  }
}
