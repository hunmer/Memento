{
  "notes_testSync": {
    "title": "测试API连接",
    "description": "测试 Notes 插件 JS API 是否正常工作（同步方法）。",
    "parameters": [],
    "returns": {
      "type": "string",
      "description": "包含状态信息的 JSON 字符串"
    },
    "examples": [
      {
        "code": "const result = Memento.plugins.notes.testSync();\nconst data = JSON.parse(result);\nconsole.log(data.message);",
        "comment": "测试API是否可用"
      }
    ],
    "notes": "这是唯一的同步方法，不需要 await。",
    "enabled": true
  },
  "notes_getNotes": {
    "title": "获取笔记列表",
    "description": "获取笔记列表，可选择指定文件夹ID来筛选特定文件夹中的笔记。",
    "parameters": [
      {
        "name": "folderId",
        "type": "string",
        "optional": true,
        "description": "文件夹 ID，不传则返回所有笔记"
      }
    ],
    "returns": {
      "type": "Promise<Array>",
      "description": "笔记对象数组"
    },
    "examples": [
      {
        "code": "const allNotes = await Memento.plugins.notes.getNotes();\nsetResult(allNotes);",
        "comment": "获取所有笔记"
      },
      {
        "code": "const folderNotes = await Memento.plugins.notes.getNotes('1234567890');\nsetResult(folderNotes);",
        "comment": "获取指定文件夹的笔记"
      }
    ],
    "notes": "",
    "enabled": true
  },
  "notes_getNote": {
    "title": "获取单个笔记详情",
    "description": "根据笔记ID获取单个笔记的详细信息。",
    "parameters": [
      {
        "name": "noteId",
        "type": "string",
        "optional": false,
        "description": "笔记 ID"
      }
    ],
    "returns": {
      "type": "Promise<Object>",
      "description": "笔记对象"
    },
    "examples": [
      {
        "code": "const note = await Memento.plugins.notes.getNote('1234567890123');\nsetResult(note);",
        "comment": "获取笔记详情"
      }
    ],
    "notes": "如果笔记不存在会抛出异常，建议使用 try-catch。",
    "enabled": true
  },
  "notes_createNote": {
    "title": "创建新笔记",
    "description": "创建新的笔记，支持设置标题、内容（Markdown）、文件夹和标签。",
    "parameters": [
      {
        "name": "title",
        "type": "string",
        "optional": false,
        "description": "笔记标题"
      },
      {
        "name": "content",
        "type": "string",
        "optional": false,
        "description": "笔记内容，支持 Markdown 格式"
      },
      {
        "name": "folderId",
        "type": "string",
        "optional": true,
        "description": "文件夹 ID，默认为 'root'"
      },
      {
        "name": "tags",
        "type": "Array<string>",
        "optional": true,
        "description": "标签数组"
      }
    ],
    "returns": {
      "type": "Promise<Object>",
      "description": "创建的笔记对象"
    },
    "examples": [
      {
        "code": "const note1 = await Memento.plugins.notes.createNote(\n  '每日总结',\n  '# 今日完成\\n\\n- 任务1\\n- 任务2'\n);\nsetResult(note1);",
        "comment": "创建基础笔记"
      },
      {
        "code": "const note2 = await Memento.plugins.notes.createNote(\n  '会议记录',\n  '# 产品会议\\n\\n讨论内容...',\n  'work_folder_id',\n  ['会议', '产品']\n);\nsetResult(note2);",
        "comment": "创建带标签的笔记"
      }
    ],
    "notes": "content 参数支持 Markdown 格式。tags 参数直接传数组，不是 JSON 字符串。",
    "enabled": true
  },
  "notes_updateNote": {
    "title": "更新笔记",
    "description": "更新现有笔记的标题、内容和标签。",
    "parameters": [
      {
        "name": "noteId",
        "type": "string",
        "optional": false,
        "description": "笔记 ID"
      },
      {
        "name": "title",
        "type": "string",
        "optional": false,
        "description": "新标题"
      },
      {
        "name": "content",
        "type": "string",
        "optional": false,
        "description": "新内容"
      },
      {
        "name": "tags",
        "type": "Array<string>",
        "optional": true,
        "description": "新标签数组"
      }
    ],
    "returns": {
      "type": "Promise<Object>",
      "description": "更新后的笔记对象"
    },
    "examples": [
      {
        "code": "const updatedNote = await Memento.plugins.notes.updateNote(\n  '1234567890123',\n  '项目计划 (已更新)',\n  '# 项目计划\\n\\n本周目标:\\n- 完成设计稿\\n- 开发核心功能',\n  ['工作', '计划', '重要']\n);\nsetResult(updatedNote);",
        "comment": "更新笔记的所有内容"
      }
    ],
    "notes": "必须同时提供 title 和 content，tags 可选。",
    "enabled": true
  },
  "notes_deleteNote": {
    "title": "删除笔记",
    "description": "根据笔记ID删除指定的笔记。",
    "parameters": [
      {
        "name": "noteId",
        "type": "string",
        "optional": false,
        "description": "笔记 ID"
      }
    ],
    "returns": {
      "type": "Promise<boolean>",
      "description": "true 表示成功，false 表示失败"
    },
    "examples": [
      {
        "code": "const success = await Memento.plugins.notes.deleteNote('1234567890123');\nsetResult(success);",
        "comment": "删除笔记"
      }
    ],
    "notes": "删除操作不可恢复，请谨慎使用。",
    "enabled": true
  },
  "notes_searchNotes": {
    "title": "搜索笔记",
    "description": "根据关键词、标签和日期范围搜索笔记。",
    "parameters": [
      {
        "name": "keyword",
        "type": "string",
        "optional": false,
        "description": "搜索关键词（标题或内容匹配），传空字符串表示不按关键词筛选"
      },
      {
        "name": "tags",
        "type": "Array<string>",
        "optional": true,
        "description": "标签数组（任一标签匹配即可）"
      },
      {
        "name": "startDate",
        "type": "string",
        "optional": true,
        "description": "开始日期，ISO 8601 格式字符串"
      },
      {
        "name": "endDate",
        "type": "string",
        "optional": true,
        "description": "结束日期，ISO 8601 格式字符串"
      }
    ],
    "returns": {
      "type": "Promise<Array>",
      "description": "匹配的笔记对象数组"
    },
    "examples": [
      {
        "code": "const results1 = await Memento.plugins.notes.searchNotes('项目');\nsetResult(results1);",
        "comment": "搜索标题或内容包含\"项目\"的笔记"
      },
      {
        "code": "const results2 = await Memento.plugins.notes.searchNotes('', ['工作']);\nsetResult(results2);",
        "comment": "搜索带\"工作\"标签的笔记"
      },
      {
        "code": "const timeInfo = await Memento.system.getCurrentTime();\nconst today = new Date(timeInfo.timestamp);\nconst weekStart = new Date(today);\nweekStart.setDate(today.getDate() - today.getDay() + 1);\nconst weekEnd = new Date(weekStart);\nweekEnd.setDate(weekStart.getDate() + 6);\nconst startTime = weekStart.toISOString().split('.')[0] + 'Z';\nconst endTime = weekEnd.toISOString().replace(/T.*/, 'T23:59:59Z');\nconst results3 = await Memento.plugins.notes.searchNotes('', null, startTime, endTime);\nsetResult(results3);",
        "comment": "搜索本周创建的笔记"
      },
      {
        "code": "const timeInfo = await Memento.system.getCurrentTime();\nconst year = timeInfo.year;\nconst month = String(timeInfo.month).padStart(2, '0');\nconst lastDay = new Date(year, timeInfo.month, 0).getDate();\nconst startTime = `${year}-${month}-01T00:00:00Z`;\nconst endTime = `${year}-${month}-${String(lastDay).padStart(2, '0')}T23:59:59Z`;\nconst results4 = await Memento.plugins.notes.searchNotes('会议', ['工作', '产品'], startTime, endTime);\nsetResult(results4);",
        "comment": "组合搜索：关键词 + 标签 + 本月日期范围"
      }
    ],
    "notes": "标签过滤是\"或\"逻辑，任一标签匹配即可。日期范围基于创建时间。",
    "enabled": true
  },
  "notes_getFolders": {
    "title": "获取所有文件夹",
    "description": "获取所有笔记文件夹的列表。",
    "parameters": [],
    "returns": {
      "type": "Promise<Array>",
      "description": "文件夹对象数组"
    },
    "examples": [
      {
        "code": "const folders = await Memento.plugins.notes.getFolders();\nsetResult(folders);",
        "comment": "获取所有文件夹"
      }
    ],
    "notes": "返回值包含所有文件夹，包括 root 根文件夹。",
    "enabled": true
  },
  "notes_getFolder": {
    "title": "获取单个文件夹详情",
    "description": "根据文件夹ID获取单个文件夹的详细信息。",
    "parameters": [
      {
        "name": "folderId",
        "type": "string",
        "optional": false,
        "description": "文件夹 ID"
      }
    ],
    "returns": {
      "type": "Promise<Object>",
      "description": "文件夹对象"
    },
    "examples": [
      {
        "code": "const folder = await Memento.plugins.notes.getFolder('1234567890');\nsetResult(folder);",
        "comment": "获取文件夹详情"
      }
    ],
    "notes": "如果文件夹不存在会抛出异常，建议使用 try-catch。",
    "enabled": true
  },
  "notes_createFolder": {
    "title": "创建新文件夹",
    "description": "创建新的笔记文件夹，可选择指定父文件夹来创建子文件夹。",
    "parameters": [
      {
        "name": "name",
        "type": "string",
        "optional": false,
        "description": "文件夹名称"
      },
      {
        "name": "parentId",
        "type": "string",
        "optional": true,
        "description": "父文件夹 ID，不传则在根目录下创建"
      }
    ],
    "returns": {
      "type": "Promise<Object>",
      "description": "创建的文件夹对象"
    },
    "examples": [
      {
        "code": "const folder1 = await Memento.plugins.notes.createFolder('个人笔记');\nsetResult(folder1);",
        "comment": "在根目录下创建文件夹"
      },
      {
        "code": "const folder2 = await Memento.plugins.notes.createFolder('项目A', 'work_folder_id');\nsetResult(folder2);",
        "comment": "创建子文件夹"
      }
    ],
    "notes": "支持无限层级嵌套。",
    "enabled": true
  },
  "notes_renameFolder": {
    "title": "重命名文件夹",
    "description": "修改文件夹的名称。",
    "parameters": [
      {
        "name": "folderId",
        "type": "string",
        "optional": false,
        "description": "文件夹 ID"
      },
      {
        "name": "newName",
        "type": "string",
        "optional": false,
        "description": "新名称"
      }
    ],
    "returns": {
      "type": "Promise<boolean>",
      "description": "true 表示成功，false 表示失败"
    },
    "examples": [
      {
        "code": "const success = await Memento.plugins.notes.renameFolder('1234567890', '工作笔记 2025');\nsetResult(success);",
        "comment": "重命名文件夹"
      }
    ],
    "notes": "不能重命名 root 根文件夹。",
    "enabled": true
  },
  "notes_deleteFolder": {
    "title": "删除文件夹",
    "description": "删除文件夹，会递归删除所有子文件夹和笔记。",
    "parameters": [
      {
        "name": "folderId",
        "type": "string",
        "optional": false,
        "description": "文件夹 ID"
      }
    ],
    "returns": {
      "type": "Promise<boolean>",
      "description": "true 表示成功，false 表示失败"
    },
    "examples": [
      {
        "code": "const success = await Memento.plugins.notes.deleteFolder('old_folder_id');\nsetResult(success);",
        "comment": "删除文件夹及其所有内容"
      }
    ],
    "notes": "⚠️ 警告：此操作会递归删除文件夹下的所有子文件夹和笔记，无法撤销！",
    "enabled": true
  },
  "notes_getFolderNotes": {
    "title": "获取文件夹中的笔记",
    "description": "获取指定文件夹中的笔记列表（不包括子文件夹的笔记）。",
    "parameters": [
      {
        "name": "folderId",
        "type": "string",
        "optional": false,
        "description": "文件夹 ID"
      }
    ],
    "returns": {
      "type": "Promise<Array>",
      "description": "笔记对象数组"
    },
    "examples": [
      {
        "code": "const noteList = await Memento.plugins.notes.getFolderNotes('work_folder_id');\nsetResult(noteList);",
        "comment": "获取文件夹笔记"
      }
    ],
    "notes": "仅返回直接位于该文件夹的笔记，不包括子文件夹。",
    "enabled": true
  },
  "notes_moveNote": {
    "title": "移动笔记到其他文件夹",
    "description": "将笔记从当前文件夹移动到目标文件夹。",
    "parameters": [
      {
        "name": "noteId",
        "type": "string",
        "optional": false,
        "description": "笔记 ID"
      },
      {
        "name": "targetFolderId",
        "type": "string",
        "optional": false,
        "description": "目标文件夹 ID"
      }
    ],
    "returns": {
      "type": "Promise<boolean>",
      "description": "true 表示成功，false 表示失败"
    },
    "examples": [
      {
        "code": "const success = await Memento.plugins.notes.moveNote('note123', 'new_folder_id');\nsetResult(success);",
        "comment": "移动笔记到新文件夹"
      }
    ],
    "notes": "移动操作会更新笔记的 folderId 属性。",
    "enabled": true
  }
}
