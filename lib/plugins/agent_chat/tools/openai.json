{
  "getAgents": {
    "title": "获取所有AI助手",
    "description": "获取所有已配置的AI助手列表",
    "parameters": [],
    "returns": {
      "type": "Array",
      "description": "AI助手列表，每个元素包含 id、name、model、serviceProviderId 等字段"
    },
    "examples": [
      {
        "title": "获取所有AI助手",
        "code": "const agents = await Memento.plugins.openai.getAgents();\nsetResult(JSON.stringify(agents, null, 2));"
      }
    ],
    "notes": "返回所有已配置的AI助手，包括服务商信息",
    "enabled": true
  },
  "getAgent": {
    "title": "获取指定AI助手",
    "description": "根据ID获取指定AI助手的详细信息",
    "parameters": [
      {"name": "agentId", "type": "string", "required": true, "description": "助手ID"}
    ],
    "returns": {
      "type": "Object",
      "description": "AI助手对象"
    },
    "examples": [
      {
        "title": "获取助手详情",
        "code": "const agent = await Memento.plugins.openai.getAgent({agentId: 'assistant-1'});\nsetResult(`助手: ${agent.name}, 模型: ${agent.model}`);"
      }
    ],
    "notes": "如助手不存在则返回错误对象",
    "enabled": true
  },
  "sendMessage": {
    "title": "发送消息给AI",
    "description": "向指定AI助手发送消息并获取回复",
    "parameters": [
      {"name": "agentId", "type": "string", "required": true, "description": "助手ID"},
      {"name": "message", "type": "string", "required": true, "description": "消息内容"},
      {"name": "contextJson", "type": "string", "required": false, "description": "上下文消息（JSON数组字符串）"}
    ],
    "returns": {
      "type": "Object",
      "description": "响应对象，包含 success、response、agent 等字段"
    },
    "examples": [
      {
        "title": "发送简单消息",
        "code": "const result = await Memento.plugins.openai.sendMessage({agentId: 'assistant-1', message: '你好'});\nif (result.success) {\n  setResult(result.response);\n} else {\n  setResult(`错误: ${result.error}`);\n}"
      },
      {
        "title": "带上下文的消息",
        "code": "const context = JSON.stringify([{role: 'user', content: '我叫张三'}, {role: 'assistant', content: '你好，张三！'}]);\nconst result = await Memento.plugins.openai.sendMessage({agentId: 'assistant-1', message: '我叫什么名字？', contextJson: context});\nsetResult(result.response);"
      }
    ],
    "notes": "发送消息有30秒超时限制，超时会返回部分响应",
    "enabled": true
  },
  "getProviders": {
    "title": "获取所有服务商",
    "description": "获取所有已配置的AI服务商列表",
    "parameters": [],
    "returns": {
      "type": "Array",
      "description": "服务商列表，每个元素包含 id、label、baseUrl 等字段"
    },
    "examples": [
      {
        "title": "获取所有服务商",
        "code": "const providers = await Memento.plugins.openai.getProviders();\nsetResult(JSON.stringify(providers, null, 2));"
      }
    ],
    "notes": "返回所有已配置的AI服务商，包括 OpenAI、Ollama、Claude 等",
    "enabled": true
  },
  "testProvider": {
    "title": "测试服务商连接",
    "description": "测试指定服务商的连接状态",
    "parameters": [
      {"name": "providerId", "type": "string", "required": true, "description": "服务商ID或label"}
    ],
    "returns": {
      "type": "Object",
      "description": "测试结果对象，包含 success、provider、response/error 等字段"
    },
    "examples": [
      {
        "title": "测试服务商连接",
        "code": "const result = await Memento.plugins.openai.testProvider({providerId: 'ollama'});\nif (result.success) {\n  setResult(`${result.provider} 连接成功`);\n} else {\n  setResult(`连接失败: ${result.error}`);\n}"
      }
    ],
    "notes": "测试会发送一个简单的'Hello'消息，有10秒超时限制",
    "enabled": true
  }
}
