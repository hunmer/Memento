[
  {
    "id": "default-tracker-all",
    "name": "查看所有目标",
    "description": "获取所有追踪目标及其进度",
    "steps": [
      {
        "method": "run_js",
        "title": "获取目标列表",
        "desc": "查询所有追踪目标",
        "data": "// 获取目标列表（返回统一格式：{ success, data, timestamp }）\nconst response = await Memento.plugins.tracker.getGoals();\nconst parsed = JSON.parse(response);\n\nif (!parsed.success) {\n  const result = { success: false, message: parsed.error || '获取目标失败' };\n  setResult(result);\n  return result;\n}\n\nconst goals = parsed.data || [];\nconst result = {\n  count: goals.length,\n  goals: goals.map(g => ({\n    id: g.id,\n    name: g.name,\n    targetValue: g.targetValue,\n    currentValue: g.currentValue,\n    unitType: g.unitType,\n    progress: g.targetValue > 0 ? Math.round((g.currentValue / g.targetValue) * 100) : 0\n  })),\n  timestamp: parsed.timestamp\n};\n\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["tracker", "目标", "查询"],
    "declaredTools": [
      {"id": "tracker_getGoals", "name": "获取目标列表"}
    ]
  },
  {
    "id": "default-tracker-record",
    "name": "记录数据",
    "description": "记录今天的目标数据",
    "steps": [
      {
        "method": "run_js",
        "title": "记录运动数据",
        "desc": "记录今天的运动数据",
        "data": "// 获取目标列表（返回统一格式）\nconst response = await Memento.plugins.tracker.getGoals();\nconst parsed = JSON.parse(response);\n\nif (!parsed.success) {\n  const result = { success: false, message: parsed.error || '获取目标失败' };\n  setResult(result);\n  return result;\n}\n\nconst goals = parsed.data || [];\nconst exerciseGoal = goals.find(g => g.name.includes('运动') || g.name.includes('健身'));\n\nif (!exerciseGoal) {\n  const result = { success: false, message: '未找到运动相关目标' };\n  setResult(result);\n  return result;\n}\n\n// 记录数据（使用 recordData 方法）\nconst record = await Memento.plugins.tracker.recordData({\n  goalId: exerciseGoal.id,\n  value: 30,\n  note: '今日运动完成'\n});\n\nconst result = {\n  success: true,\n  record: {\n    goalName: exerciseGoal.name,\n    value: record.value,\n    recordedAt: record.recordedAt\n  }\n};\n\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["tracker", "记录", "数据"],
    "declaredTools": [
      {"id": "tracker_getGoals", "name": "获取目标列表"},
      {"id": "tracker_recordData", "name": "记录数据"}
    ]
  },
  {
    "id": "default-tracker-create",
    "name": "创建新目标",
    "description": "创建一个新的追踪目标",
    "steps": [
      {
        "method": "run_js",
        "title": "创建目标",
        "desc": "创建每天阅读30分钟的目标",
        "data": "const goal = await Memento.plugins.tracker.createGoal({\n  name: '每天读书30分钟',\n  icon: '57455',\n  unitType: '分钟',\n  targetValue: 30,\n  dateSettings: {\n    type: 'daily'\n  },\n  isLoopReset: true\n});\n\nconst result = {\n  success: true,\n  goal: {\n    id: goal.id,\n    name: goal.name,\n    targetValue: goal.targetValue,\n    unitType: goal.unitType\n  }\n};\n\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["tracker", "创建", "目标"],
    "declaredTools": [
      {"id": "tracker_createGoal", "name": "创建目标"}
    ]
  },
  {
    "id": "default-tracker-stats",
    "name": "查看目标统计",
    "description": "查看本周的目标完成统计",
    "steps": [
      {
        "method": "run_js",
        "title": "获取统计数据",
        "desc": "统计本周目标完成情况",
        "data": "// 获取目标列表（返回统一格式）\nconst goalsResponse = await Memento.plugins.tracker.getGoals();\nconst goalsParsed = JSON.parse(goalsResponse);\n\nif (!goalsParsed.success) {\n  const result = { success: false, message: goalsParsed.error || '获取目标失败' };\n  setResult(result);\n  return result;\n}\n\nconst goals = goalsParsed.data || [];\nconst stats = [];\n\nfor (const goal of goals) {\n  // 获取记录列表（返回统一格式）\n  const recordsResponse = await Memento.plugins.tracker.getRecords({\n    goalId: goal.id\n  });\n  const recordsParsed = JSON.parse(recordsResponse);\n  \n  const records = recordsParsed.success ? (recordsParsed.data || []) : [];\n  const total = records.reduce((sum, r) => sum + (r.value || 0), 0);\n  \n  stats.push({\n    name: goal.name,\n    totalRecords: records.length,\n    currentValue: goal.currentValue,\n    targetValue: goal.targetValue,\n    unitType: goal.unitType,\n    completion: goal.targetValue > 0 ? Math.round((goal.currentValue / goal.targetValue) * 100) : 0\n  });\n}\n\nconst result = { \n  success: true,\n  stats: stats,\n  timestamp: goalsParsed.timestamp\n};\n\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["tracker", "统计", "本周"],
    "declaredTools": [
      {"id": "tracker_getGoals", "name": "获取目标列表"},
      {"id": "tracker_getRecords", "name": "获取记录"}
    ]
  }
]
