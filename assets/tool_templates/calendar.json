[
  {
    "id": "default-calendar-today",
    "name": "查看今日安排",
    "description": "获取今天的日历事件",
    "steps": [
      {
        "method": "run_js",
        "title": "获取今日事件",
        "desc": "查询今天的安排",
        "data": "const todayStr = await Memento.system.getCustomDate({format: 'iso'});\nconst today = new Date(todayStr);\ntoday.setHours(0, 0, 0, 0);\nconst tomorrow = new Date(today);\ntomorrow.setDate(tomorrow.getDate() + 1);\n\nconst events = await Memento.plugins.calendar.getEvents({\n  startDate: today.toISOString(),\n  endDate: tomorrow.toISOString()\n});\n\nconst result = {\n  count: events.length,\n  events: events.map(e => ({\n    id: e.id,\n    title: e.title,\n    startTime: e.startTime,\n    endTime: e.endTime\n  }))\n};\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["calendar", "今日", "安排"],
    "declaredTools": [
      {"id": "calendar_getEvents", "name": "获取事件列表"}
    ]
  },
  {
    "id": "default-calendar-week",
    "name": "查看本周事件",
    "description": "获取本周的日历事件",
    "steps": [
      {
        "method": "run_js",
        "title": "获取本周事件",
        "desc": "查询本周的安排",
        "data": "const nowStr = await Memento.system.getCustomDate({format: 'iso'});\nconst now = new Date(nowStr);\nconst weekStart = new Date(now);\nweekStart.setDate(now.getDate() - now.getDay());\nweekStart.setHours(0, 0, 0, 0);\n\nconst weekEnd = new Date(weekStart);\nweekEnd.setDate(weekStart.getDate() + 7);\n\nconst events = await Memento.plugins.calendar.getEvents({\n  startDate: weekStart.toISOString(),\n  endDate: weekEnd.toISOString()\n});\n\nconst result = {\n  count: events.length,\n  events: events.map(e => ({\n    id: e.id,\n    title: e.title,\n    date: e.startTime\n  }))\n};\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["calendar", "本周", "事件"],
    "declaredTools": [
      {"id": "calendar_getEvents", "name": "获取事件列表"}
    ]
  },
  {
    "id": "default-calendar-upcoming",
    "name": "即将到来的事件",
    "description": "获取未来几天内的事件",
    "steps": [
      {
        "method": "run_js",
        "title": "获取即将到来",
        "desc": "查询未来7天的事件",
        "data": "const response = await Memento.plugins.calendar.getUpcoming({\n  days: 7\n});\n\nif (!response.success) {\n  setResult({\n    error: response.error,\n    timestamp: response.timestamp\n  });\n  return { error: response.error };\n}\n\nconst result = {\n  count: response.data?.data?.length || 0,\n  events: response.data?.data?.map(e => ({\n    id: e.id,\n    title: e.title,\n    startTime: e.startTime,\n    endTime: e.endTime\n  })) || [],\n  timestamp: response.timestamp\n};\n\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["calendar", "即将", "事件"],
    "declaredTools": [
      {"id": "calendar_getUpcoming", "name": "获取即将到来的事件"}
    ]
  },
  {
    "id": "default-calendar-create",
    "name": "创建日历事件",
    "description": "创建一个新的日历事件",
    "steps": [
      {
        "method": "run_js",
        "title": "创建事件",
        "desc": "创建明天下午2点的会议",
        "data": "const todayStr = await Memento.system.getCustomDate({format: 'iso'});\nconst tomorrow = new Date(todayStr);\ntomorrow.setDate(tomorrow.getDate() + 1);\ntomorrow.setHours(14, 0, 0, 0);\n\nconst endTime = new Date(tomorrow);\nendTime.setHours(15, 0, 0, 0);\n\nconst event = await Memento.plugins.calendar.createEvent({\n  title: '项目会议',\n  startTime: tomorrow.toISOString(),\n  endTime: endTime.toISOString()\n});\n\nconst result = {\n  success: true,\n  event: {\n    id: event.id,\n    title: event.title,\n    startTime: event.startTime\n  }\n};\nsetResult(result);\nreturn result;"
      }
    ],
    "createdAt": "2025-01-01T00:00:00.000",
    "tags": ["calendar", "创建", "事件"],
    "declaredTools": [
      {"id": "calendar_createEvent", "name": "创建事件"}
    ]
  }
]
